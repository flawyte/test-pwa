var _this=this,version='v1';this.addEventListener('activate',function(a){console.log('activate'),console.warn('Refresh to update!'),a.waitUntil(caches.keys().then(function(b){return Promise.all(b.map(function(c){if(c!==version)return caches.delete(c)}))}))}),this.addEventListener('fetch',function(a){a.respondWith(caches.match(a.request).then(function(b){return console.log('"'+a.request.url+'" is cached => '+((void 0!==b)+'').toUpperCase()),b?b:fetch(a.request).then(function(c){return /chrome-extension/.test(a.request.url)?fetch(a.request):caches.open(version).then(function(d){return d.put(a.request,c.clone()),c})})}))}),this.addEventListener('install',function(){console.log('install'),_this.skipWaiting()}),this.addEventListener('message',function(){}),this.addEventListener('push',function(){console.log('push')}),this.addEventListener('sync',function(){console.log('sync')});