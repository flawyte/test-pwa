<!doctype html>
<html lang="en">
  <head>
    <script>
      // This little piece of code ensures that app dependencies are always loaded from the app's root path whatever URL they're loaded from (will be a subpath if the user changes the URL manually)

      if (!localStorage.getItem('app-path'))
        localStorage.setItem('app-path', location.pathname);

      (function() {
        var base = document.createElement('base');
        base.href = localStorage.getItem('app-path');
        console.log(base);
        document.head.insertBefore(base, document.head.firstChild);
      })();
    </script>

    <meta charset="utf-8">
    <meta name="description" content="Discovering Progressive Web App(s) by building one using Polymer 2, Service Workers etc.">
    <meta name="theme-color" content="#0D47A1">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>test-pwa</title>

    <script src="bower_components/webcomponentsjs/webcomponents-loader.js"></script>

    <link rel="manifest" href="manifest.json">
    <link rel="import" href="src/test-pwa-app.html">
  </head>
  <body>

    <!-- JavaScript is enabled -->

    <test-pwa-app></test-pwa-app>

    <script>
      window.app = document.querySelector('test-pwa-app');
      window.mainFragment = app.$.mainFragment;
      window.splashFragment = app.$.splashFragment;
    </script>

    <style>
      body {
        background: #eeeeee;
        height: 100%;
        margin: 0;
      }
      html {
        height: 100%;
      }
    </style>

    <!-- JavaScript is NOT enabled -->

    <noscript>
      <style>
        noscript {
          text-align: center;
        }
        noscript > div {
          align-items: center;
          display: flex;
          height: 100%;
          justify-content: center;
        }
      </style>

      <div>
        <p>You must have JavaScript enabled to use this web app.</p>
      </div>
    </noscript>

  </body>
</html>
